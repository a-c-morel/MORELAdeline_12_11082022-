<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: pages/Dashboard.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: pages/Dashboard.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>//import fetchDataService from "../services/fetchDataService"
import FetchDataService from "../services/fetchDataService"

import { useState, useEffect } from "react"
import { useParams } from "react-router-dom"

import Greetings from "../components/Greetings"
import UserActivity from "../components/UserActivity"
import UserAverageSessions from "../components/UserAverageSessions"
import UserPerformance from "../components/UserPerformance"
import UserScore from "../components/UserScore"
import CaloriesIntake from "../components/CaloriesIntake"
import ProteinsIntake from "../components/ProteinsIntake"
import CarbIntake from "../components/CarbIntake"
import LipidsIntake from "../components/LipidsIntake"

/**
 * Render a div containing the main content of the app (user's informations)
 * Wait for the data Promise resolutions, then re-renders Dashboard component with data.
 * @returns {React.ReactElement}
 */
export default function Dashboard() {
  
  const [greetingsData, setGreetingsData] = useState(null)
  const [barChartData, setBarChartData] = useState(null)
  const [lineChartData, setLineChartData] = useState(null)
  const [radarChartData, setRadarChartData] = useState(null)
  const [pieChartData, setPieChartData] = useState(null)
  const [caloriesIntakeData, setCaloriesIntakeData] = useState(null)
  const [proteinsIntakeData, setProteinsIntakeData] = useState(null)
  const [carbIntakeData, setCarbIntakeData] = useState(null)
  const [lipidsIntakeData, setLipidsIntakeData] = useState(null)

  const { userId } = useParams()

  useEffect(() => {

    const fetchDataServiceInstance = new FetchDataService()

    fetchDataServiceInstance.fetchGreetingsData(userId).then((data) => {
      setGreetingsData(data)
    })
    fetchDataServiceInstance.fetchBarChartData(userId).then((data) => {
      setBarChartData(data)
    })
    fetchDataServiceInstance.fetchLineChartData(userId).then((data) => {
      setLineChartData(data)
    })
    fetchDataServiceInstance.fetchRadarChartData(userId).then((data) => {
      setRadarChartData(data)
    })
    fetchDataServiceInstance.fetchPieChartData(userId).then((data) => {
      setPieChartData(data)
    })
    fetchDataServiceInstance.fetchCaloriesIntakeData(userId).then((data) => {
      setCaloriesIntakeData(data)
    })
    fetchDataServiceInstance.fetchProteinsIntakeData(userId).then((data) => {
      setProteinsIntakeData(data)
    })
    fetchDataServiceInstance.fetchCarbIntakeData(userId).then((data) => {
      setCarbIntakeData(data)
    })
    fetchDataServiceInstance.fetchLipidsIntakeData(userId).then((data) => {
      setLipidsIntakeData(data)
    })
  }, [userId])

  return (greetingsData === null
    || barChartData === null
    || lineChartData === null
    || radarChartData === null
    || pieChartData === null
    || caloriesIntakeData === null
    || proteinsIntakeData === null
    || carbIntakeData === null
    || lipidsIntakeData === null) ? (
    &lt;div>Loading...&lt;/div>
  ) : (
    &lt;div className="dashboard-container">
      &lt;div className="charts">
        &lt;Greetings name={greetingsData} />
        &lt;UserActivity data={barChartData} />
        &lt;div className="square-charts_container">
          &lt;UserAverageSessions data={lineChartData} />
          &lt;UserPerformance data={radarChartData} />
          &lt;UserScore data={pieChartData} />
        &lt;/div>
      &lt;/div>
      &lt;div className="intake">
        &lt;CaloriesIntake amountOfCalories={caloriesIntakeData} />
        &lt;ProteinsIntake amountOfProteins={proteinsIntakeData} />
        &lt;CarbIntake amountOfCarbs={carbIntakeData} />
        &lt;LipidsIntake amountOfLipids={lipidsIntakeData} />
      &lt;/div>
    &lt;/div>
  )

}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module.html#.exports">exports</a></li></ul><h3>Global</h3><ul><li><a href="global.html#fetchBarChartData">fetchBarChartData</a></li><li><a href="global.html#fetchCaloriesIntakeData">fetchCaloriesIntakeData</a></li><li><a href="global.html#fetchCarbIntakeData">fetchCarbIntakeData</a></li><li><a href="global.html#fetchGreetingsData">fetchGreetingsData</a></li><li><a href="global.html#fetchLineChartData">fetchLineChartData</a></li><li><a href="global.html#fetchLipidsIntakeData">fetchLipidsIntakeData</a></li><li><a href="global.html#fetchPieChartData">fetchPieChartData</a></li><li><a href="global.html#fetchProteinsIntakeData">fetchProteinsIntakeData</a></li><li><a href="global.html#fetchRadarChartData">fetchRadarChartData</a></li><li><a href="global.html#getDayOfWeek">getDayOfWeek</a></li><li><a href="global.html#getKind">getKind</a></li><li><a href="global.html#tradKindFr">tradKindFr</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Wed Nov 02 2022 17:27:45 GMT+0100 (heure normale dâ€™Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
